<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise</title>
</head>
<body>
    <div></div>
    <script>
        const news=[
            {newstitle:"first title of the news",content:"news content goes here ...."},
            {newstitle:"second title of the news", content:"news content goes here"}
        ]
        function showNews(){
        setTimeout(()=>{
            let result=""
            news.forEach((post)=>{
                result+=`<li>${post.newstitle}</li>`
            })
            document.querySelector('div').innerHTML=result

        },2000)
        }

        function createNews(newdata){
            return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                news.push(newdata)

                const error=false
                if(!error){
                    resolve()
                }
                else{
                    reject('Error:something error in the document')
                }

            },3000)
            })

        }

        createNews({newstitle:"Third Title",content:"any content"})
        .then(showNews)
        .catch(err=>console.log(err))

    </script>
    
</body>
</html>